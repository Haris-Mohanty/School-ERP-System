
<?php
  session_start();
  $username = $_SESSION['username'];

  if(empty($username)){
    header("Location:../");
    exit;
  }
?>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- BOOTSTRAP CSS LINK START -->
    <link rel="stylesheet" href="../Common_files/css/bootstrap.min.css" />
    <!-- BOOTSTRAP CSS LINK END -->

    <!-- BOOTSTRAP JS LINK START -->
    <script src="../Common_files/js/bootstrap.bundle.min.js"></script>
    <!-- BOOTSTRAP JS LINK END -->

    <!-- ANIMATE CSS LINK START -->
    <link rel="stylesheet" href="../Common_files/css/animate.min.css" />
    <!-- ANIMATE CSS LINK END -->

    <!-- SWEET ALERT JS LINK START -->
    <script src="../Common_files/js/sweetalert.min.js"></script>
    <!-- SWEET ALERT JS LINK END -->

    <!--FONT AWESOME LINK START -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <!--FONT AWESOME LINK END -->

    <!-- JQUERY LINK START -->
    <script src="../Common_files/js/jquery.min.js"></script>
    <!-- JQUERY LINK END -->

    <!--   GOOGLE FONT START -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide"/>
    <!--   GOOGLE FONT END -->

    <!-- CSS FILE LINK START -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- CSS FILE LINK END -->
    <title>Employee</title>
    <link rel="shortcut icon" href="../Images/shortcut.jpg">
  </head>
  <body>
    <div class="container-fluid p-0">
      <div class="side-nav side-nav-open">

        <!-- HOME PAGE DESIGN - CODE START -->
        <button class="btn w-100 text-light text-start homepage-update-btn">
          <i class="fa fa-home"></i>
          Homepage Design
          <i class="fa-solid fa-angle-down float-end mt-2"></i>
        </button>

        <ul class="collapse show homepage-menu">
          <li class="border-start collapse-item p-2" access-link="branding_design.php">Header Showcase</li>
          <li class="border-start collapse-item p-2" access-link="category_design.php">Category Showcase</li>
        </ul>
        <!-- HOME PAGE DESIGN - CODE END -->

        <!-- INSTITUTE UPDATE - CODE START -->
        <button class="btn w-100 text-light text-start institute-update-btn">
          <i class="fa-solid fa-chart-line"></i>
          Institute Update
          <i class="fa-solid fa-angle-down float-end mt-2"></i>
        </button>

        <ul class="collapse show institute-menu">
          <li class="border-start collapse-item p-2" access-link="branding_design.php">Branding Details</li>
          <li class="border-start collapse-item p-2" access-link="category_design.php">Create Category</li>
          <li class="border-start collapse-item p-2" access-link="course_design.php">Create Course</li>
          <li class="border-start collapse-item p-2" access-link="batch_design.php">Create Batch</li>
          <li class="border-start collapse-item p-2" access-link="student_design.php">Student Registration</li>
          <li class="border-start collapse-item p-2" access-link="document_design.php">Upload Student Document</li>
          <li class="border-start collapse-item p-2" access-link="invoice_design.php">Create Invoice</li>
          <li class="border-start collapse-item p-2" access-link="attendance_design.php">Student Attendance</li>
          <li class="border-start collapse-item p-2 active" access-link="access_design.php">Give Access Link</li>
        </ul>
        <!-- INSTITUTE UPDATE - CODE END -->
      </div>
      <div class="page page-open">
        <div class="container-fluid">
          <div class="row p-3">
            <div class="col-md-4 p-4 bg-white rounded-lg shadow-lg">
              <form class="header-showcase-form">
                <div class="form-group mb-3">
                  <label for="title-image" class="fw-bold">Title Image </label> <span> 200kb (1920*978)</span>
                  <input type="file" name="title-image" id="title-image" class="form-control">
                </div>

                <div class="form-group mb-3">
                  <label for="title-text" class="fw-bold">Title Text</label>
                  <textarea name="title-text" id="title-text" class="form-control" rows="2"></textarea>
                </div>

                <div class="form-group mb-3">
                  <label for="subtitle-text" class="fw-bold">Sub-Title Text</label>
                  <textarea name="subtitle-text" id="subtitle-text" class="form-control" rows="4"></textarea>
                </div>

                <div class="form-group mb-3">
                  <button class="btn btn-primary w-100 py-2">Add Showcase</button>
                </div>
              </form>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-7 p-4 bg-white rounded-lg shadow-lg position-relative showcase-preview">
              <h1 class="showcase-title target fw-bold">TITLE</h1>
              <h4 class="showcase-subtitle target fw-bold">SUB TITLE</h4>
              <div class="showcase-formatting">
                <input type="color" name="color-selector" id="" class="color-selector form-control">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    $(document).ready(function(){
      
      $(".target").each(function(){
        $(this).click(function(e){
          let element = e.target;
          let index_number = $(element).index();
          sessionStorage.setItem("color-index-number", index_number);

          let i;
          for(i=0; i<$(".target").length; i++){
            $(".target").css({
              border : "",
              boxShadow : "",
              padding : "",
              width : ""
            });
          }

          $(this).css({
            border : "4px solid red",
            boxShadow : "0px opx 3px grey",
            padding : "2px",
            width : "fit-content"
          });

          $(this).on("dblclick", function(){
            let i;
          for(i=0; i<$(".target").length; i++){
            $(".target").css({
              border : "",
              boxShadow : "",
              padding : "",
              width : ""
            });
          }
          });

          $(".color-selector").on("input", function(){
            let color = this.value;
            let in_number = +sessionStorage.getItem("color-index-number");
            let element = document.getElementsByClassName("target")[in_number];
            element.style.color = color;
          });
        });
      });
    });
   
    $(document).ready(function(){
      $("#title-image").on("change", function(){
        let file = this.files[0];
        if(file.size < 200000)
        {
          let url = url.createObjectURL(file);
          let image = new Image();
          image.src = url;
          image.onload = function(){
            let o_width = image.width;
            let o_height = image.height;

            if(o_width == 1920 && o_height == 978)
            {
              image.style.width = "100%";
              image.style.position = "absolute";
              image.style.top = "0";
              image.style.left = "0";
              $(".showcase-preview").append(image);
            }else
            {
              swal("Size not Matched!","Upload 1920*978 Size Image!", "error");
            }
          }
        }
        else
        {
          swal("Large Size!", "Please Upload Image Under 200kb!", "warning");
        }
      });
    });
  </script>
  <!-- JS FILE LINK START -->
  <!-- <script src="js/script.js"></script> -->
  <!-- JS FILE LINK END -->
</html>